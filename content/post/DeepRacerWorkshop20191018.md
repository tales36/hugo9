---
title: "DeepRacerWorkshop"
date: 2019-10-18T15:50:01+09:00
tags: ["勉強系"]
---

# AWS DeepRacerとは
* 1/18の自律走行カー
* 学習と評価のためのシミュレータ
* 世界中でのレースリーグ

## Deep Racerを走らせるためには
クルマからのカメラ画像のあらゆる見え方に対して、自動運転カーがとるべき運転行動を登録できれば、コースを走らせることが可能。  
**実際には見え方が異なる為、登録が難しい**  

突然障害物が出てきたりとか、周りの環境に合わせて運転を調整しないとならない為。

## 強化学習の導入
カメラ画像から行動を決定するモデルを学習により作成。  
環境に対して、エージェントが様々な行動を試し、ゴールに到達できるように学習。

モデル→エージェント→行動→状態→環境→ゴール

モデルの行動が良かったのかどうかをフィードバックさせる。

人工知能
　→機械学習（強化学習、教師あり/なし学習）

## 機械学習の全体像
* 教師あり学習
データと対応するラベルが大量に必要。このデータは犬、このデータは猫。みたいな感じに。

* 教師無し学習
データにラベルは必要ない。データの**類似性**を見る。

* 強化学習
特定の環境下で、起こした行動が良かったのか悪かったのかをデータとして貯める。報酬関数。

## 強化学習の用語
* エージェント
DeepRacer本体
* 環境
コース
* 状態
曲がってるとか真っすぐとか
* 行動
進む、止まる。
* 報酬
行動の良し悪しを評価
* エピソード
一連の強化学習内容

## レースの為の報酬関数
ここは画像のみ。
進んだ行動に対してポイント（報酬）をあたえる。
→通常だと蛇行するとポイントが高くなるが、最短のルートではない。

## 学習が行われるプロセス
15枚/s、R(t+1) S(t+1)  
　→Run？Stop？  
価値関数、方策関数  
全ての行動を網羅することはできない。

## 強化学習 vs 他のアルゴリズム
* 強化学習と教師あり学習は学習の仕方が違うが、学習の結果（得られるもの）は同じで、状態を入力すると行動がおこなえる。

## DeepRacerのアーキテクチャ

SageMaker　←→　RoboMaker

NAT Gateway

S3(モデルを置く)　Kinessis Video Stream AmazonCloudwath

## DeepRacerの流れ
[モデル作成]

* 学習の設定  
報酬関数　ハイパーパラメータ　行動空間
* 学習
* 評価  
バーチャルサーキットでぐるぐる動かす。

## 行動空間の設定
* スピードとステアリングの組み合わせで定義  
* 細かい調整をおこなうために粒度を設定可能

## 報酬関数の実装
Reward function examplesで何個かサンプルがある。

## コースの構成要素
* サーキットの壁
* フィールド（コース外）
* コース面（コース内）
* コースの境界線
* センターライン

## 座標系と参照点
自動運転カーの向き
コース幅
コース外の参照点
コース内の参照点

## 学習アルゴリズムを制御するハイパーパラメータ
後で資料で確認。

## シミュレーションと実環境のドメイン転移
* シミュレーションでは上手く走ってるのに、実地だと上手く走らないことが多々ある。  
　→バッテリーとかOSとかの要素によって。
* 制御環境を実地に近付けるか、ランダムな条件を入れるなどで対策。

## 強化学習について知りたい
無料のトレーニングがある。90分＊6回。

## github
https://github.com/aws-samples/aws-deepracer-workshops/blob/master/Workshops/2019-AWSSummits-AWSDeepRacerService/Lab1/Readme-Japanese.md

## DeepRacerリーグ
実地と仮想サーキットでそれぞれ出れる。  
仮想サーキットは5月―10月までの6回。  

1位はre:inventに招待。  
1位-10位はDeepRacerをプレゼント。 

実地はともかく、仮想はだれでもやれる。  

## ハンズオン
講師「モデルを沢山作るとすぐに**数百ドル**いきます」

### 先言って？？

使わないインスタンスやS3などはすぐに削除した方が良さげ。


## おわり